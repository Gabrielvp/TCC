-- MySQL Script generated by MySQL Workbench
-- 09/24/15 00:29:38
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema db_tcc
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema db_tcc
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `db_tcc` DEFAULT CHARACTER SET utf8 ;
USE `db_tcc` ;

-- -----------------------------------------------------
-- Table `db_tcc`.`pessoa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`pessoa` (
  `idpessoa` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `nome` VARCHAR(150) NOT NULL COMMENT '',
  `email` VARCHAR(100) NOT NULL COMMENT '',
  `completo` TINYINT(1) NOT NULL COMMENT '',
  `rua` VARCHAR(100) NOT NULL COMMENT '',
  `numero` INT NOT NULL COMMENT '',
  `cep` VARCHAR(10) NOT NULL COMMENT '',
  `bairro` VARCHAR(50) NOT NULL COMMENT '',
  `cidade` VARCHAR(50) NOT NULL COMMENT '',
  `estado` CHAR(2) NOT NULL COMMENT '',
  `cpf` CHAR(14) NOT NULL COMMENT '',
  `rg` VARCHAR(20) NOT NULL COMMENT '',
  `telResidencial` CHAR(13) NULL COMMENT '',
  `telCelular` CHAR(13) NULL COMMENT '',
  `telComercial` CHAR(13) NULL COMMENT '',
  `observacoes` VARCHAR(500) NULL COMMENT '',
  PRIMARY KEY (`idpessoa`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`agendamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`agendamento` (
  `idagendamento` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `data` DATE NOT NULL COMMENT '',
  `hora` TIME NOT NULL COMMENT '',
  `descricao` VARCHAR(200) NULL COMMENT '',
  `dia` INT NOT NULL COMMENT '',
  `idpessoa` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idagendamento`, `idpessoa`)  COMMENT '',
  INDEX `fk_agendamento_pessoa1_idx` (`idpessoa` ASC)  COMMENT '',
  CONSTRAINT `fk_agendamento_pessoa1`
    FOREIGN KEY (`idpessoa`)
    REFERENCES `db_tcc`.`pessoa` (`idpessoa`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`configuracao`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`configuracao` (
  `idconfiguracao` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `horaInicial` TIME NOT NULL COMMENT '',
  `horaFinal` TIME NOT NULL COMMENT '',
  `intervalo` INT NOT NULL COMMENT '',
  `almocoInicio` TIME NULL COMMENT '',
  `almocoFim` TIME NULL COMMENT '',
  `dia` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idconfiguracao`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`orcamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`orcamento` (
  `idorcamento` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `data` DATE NOT NULL COMMENT '',
  `cliente` VARCHAR(150) NOT NULL COMMENT '',
  `total` DOUBLE NOT NULL COMMENT '',
  `desconto` DOUBLE NULL COMMENT '',
  `aprovado` TINYINT(1) NOT NULL COMMENT '',
  `idpessoa` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idorcamento`)  COMMENT '',
  INDEX `fk_orcamento_pessoa1_idx` (`idpessoa` ASC)  COMMENT '',
  CONSTRAINT `fk_orcamento_pessoa1`
    FOREIGN KEY (`idpessoa`)
    REFERENCES `db_tcc`.`pessoa` (`idpessoa`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`fatura`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`fatura` (
  `idfatura` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `fatura` VARCHAR(45) NOT NULL COMMENT '',
  `total` DOUBLE NOT NULL COMMENT '',
  `dt_emissao` DATE NOT NULL COMMENT '',
  `quitado` TINYINT(1) NOT NULL COMMENT '',
  `forma_pagamento` VARCHAR(100) NOT NULL COMMENT '',
  `idorcamento` INT NOT NULL COMMENT '',
  `idpessoa` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idfatura`)  COMMENT '',
  INDEX `fk_fatura_orcamento1_idx` (`idorcamento` ASC)  COMMENT '',
  INDEX `fk_fatura_pessoa1_idx` (`idpessoa` ASC)  COMMENT '',
  CONSTRAINT `fk_fatura_orcamento1`
    FOREIGN KEY (`idorcamento`)
    REFERENCES `db_tcc`.`orcamento` (`idorcamento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_fatura_pessoa1`
    FOREIGN KEY (`idpessoa`)
    REFERENCES `db_tcc`.`pessoa` (`idpessoa`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`produto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`produto` (
  `idproduto` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `descricao` VARCHAR(150) NOT NULL COMMENT '',
  `cod_barras` VARCHAR(20) NOT NULL COMMENT '',
  `quantidade` DOUBLE NOT NULL COMMENT '',
  `valor_venda` DOUBLE NOT NULL COMMENT '',
  `valor_compra` DOUBLE NOT NULL COMMENT '',
  `unidade` INT NOT NULL COMMENT '',
  `marca` VARCHAR(100) NOT NULL COMMENT '',
  `modelo` VARCHAR(100) NOT NULL COMMENT '',
  `fornecedor` VARCHAR(100) NOT NULL COMMENT '',
  `referencia` VARCHAR(45) NULL COMMENT '',
  `ativo` TINYINT(1) NOT NULL COMMENT '',
  PRIMARY KEY (`idproduto`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`produto_orcamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`produto_orcamento` (
  `idproduto_orcamento` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `produto` VARCHAR(150) NOT NULL COMMENT '',
  `qtd` DOUBLE NOT NULL COMMENT '',
  `valor` DOUBLE NOT NULL COMMENT '',
  `desconto` DOUBLE NOT NULL COMMENT '',
  `total` DOUBLE NOT NULL COMMENT '',
  `idproduto` INT NOT NULL COMMENT '',
  `idorcamento` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idproduto_orcamento`)  COMMENT '',
  INDEX `fk_produto_orcamento_produto1_idx` (`idproduto` ASC)  COMMENT '',
  INDEX `fk_produto_orcamento_orcamento1_idx` (`idorcamento` ASC)  COMMENT '',
  CONSTRAINT `fk_produto_orcamento_produto1`
    FOREIGN KEY (`idproduto`)
    REFERENCES `db_tcc`.`produto` (`idproduto`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_produto_orcamento_orcamento1`
    FOREIGN KEY (`idorcamento`)
    REFERENCES `db_tcc`.`orcamento` (`idorcamento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`pessoa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`pessoa` (
  `idpessoa` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `nome` VARCHAR(150) NOT NULL COMMENT '',
  `email` VARCHAR(100) NOT NULL COMMENT '',
  `completo` TINYINT(1) NOT NULL COMMENT '',
  `rua` VARCHAR(100) NOT NULL COMMENT '',
  `numero` INT NOT NULL COMMENT '',
  `cep` VARCHAR(10) NOT NULL COMMENT '',
  `bairro` VARCHAR(50) NOT NULL COMMENT '',
  `cidade` VARCHAR(50) NOT NULL COMMENT '',
  `estado` CHAR(2) NOT NULL COMMENT '',
  `cpf` CHAR(14) NOT NULL COMMENT '',
  `rg` VARCHAR(20) NOT NULL COMMENT '',
  `telResidencial` CHAR(13) NULL COMMENT '',
  `telCelular` CHAR(13) NULL COMMENT '',
  `telComercial` CHAR(13) NULL COMMENT '',
  `observacoes` VARCHAR(500) NULL COMMENT '',
  PRIMARY KEY (`idpessoa`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`produto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`produto` (
  `idproduto` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `descricao` VARCHAR(150) NOT NULL COMMENT '',
  `cod_barras` VARCHAR(20) NOT NULL COMMENT '',
  `quantidade` DOUBLE NOT NULL COMMENT '',
  `valor_venda` DOUBLE NOT NULL COMMENT '',
  `valor_compra` DOUBLE NOT NULL COMMENT '',
  `unidade` INT NOT NULL COMMENT '',
  `marca` VARCHAR(100) NOT NULL COMMENT '',
  `modelo` VARCHAR(100) NOT NULL COMMENT '',
  `fornecedor` VARCHAR(100) NOT NULL COMMENT '',
  `referencia` VARCHAR(45) NULL COMMENT '',
  `ativo` TINYINT(1) NOT NULL COMMENT '',
  PRIMARY KEY (`idproduto`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`orcamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`orcamento` (
  `idorcamento` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `data` DATE NOT NULL COMMENT '',
  `cliente` VARCHAR(150) NOT NULL COMMENT '',
  `total` DOUBLE NOT NULL COMMENT '',
  `desconto` DOUBLE NULL COMMENT '',
  `aprovado` TINYINT(1) NOT NULL COMMENT '',
  `idpessoa` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idorcamento`)  COMMENT '',
  INDEX `fk_orcamento_pessoa1_idx` (`idpessoa` ASC)  COMMENT '',
  CONSTRAINT `fk_orcamento_pessoa1`
    FOREIGN KEY (`idpessoa`)
    REFERENCES `db_tcc`.`pessoa` (`idpessoa`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`produto_orcamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`produto_orcamento` (
  `idproduto_orcamento` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `produto` VARCHAR(150) NOT NULL COMMENT '',
  `qtd` DOUBLE NOT NULL COMMENT '',
  `valor` DOUBLE NOT NULL COMMENT '',
  `desconto` DOUBLE NOT NULL COMMENT '',
  `total` DOUBLE NOT NULL COMMENT '',
  `idproduto` INT NOT NULL COMMENT '',
  `idorcamento` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idproduto_orcamento`)  COMMENT '',
  INDEX `fk_produto_orcamento_produto1_idx` (`idproduto` ASC)  COMMENT '',
  INDEX `fk_produto_orcamento_orcamento1_idx` (`idorcamento` ASC)  COMMENT '',
  CONSTRAINT `fk_produto_orcamento_produto1`
    FOREIGN KEY (`idproduto`)
    REFERENCES `db_tcc`.`produto` (`idproduto`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_produto_orcamento_orcamento1`
    FOREIGN KEY (`idorcamento`)
    REFERENCES `db_tcc`.`orcamento` (`idorcamento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`fatura`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`fatura` (
  `idfatura` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `fatura` VARCHAR(45) NOT NULL COMMENT '',
  `total` DOUBLE NOT NULL COMMENT '',
  `dt_emissao` DATE NOT NULL COMMENT '',
  `quitado` TINYINT(1) NOT NULL COMMENT '',
  `forma_pagamento` VARCHAR(100) NOT NULL COMMENT '',
  `idorcamento` INT NOT NULL COMMENT '',
  `idpessoa` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idfatura`)  COMMENT '',
  INDEX `fk_fatura_orcamento1_idx` (`idorcamento` ASC)  COMMENT '',
  INDEX `fk_fatura_pessoa1_idx` (`idpessoa` ASC)  COMMENT '',
  CONSTRAINT `fk_fatura_orcamento1`
    FOREIGN KEY (`idorcamento`)
    REFERENCES `db_tcc`.`orcamento` (`idorcamento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_fatura_pessoa1`
    FOREIGN KEY (`idpessoa`)
    REFERENCES `db_tcc`.`pessoa` (`idpessoa`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`configuracao`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`configuracao` (
  `idconfiguracao` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `horaInicial` TIME NOT NULL COMMENT '',
  `horaFinal` TIME NOT NULL COMMENT '',
  `intervalo` INT NOT NULL COMMENT '',
  `almocoInicio` TIME NULL COMMENT '',
  `almocoFim` TIME NULL COMMENT '',
  `dia` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idconfiguracao`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db_tcc`.`agendamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db_tcc`.`agendamento` (
  `idagendamento` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `data` DATE NOT NULL COMMENT '',
  `hora` TIME NOT NULL COMMENT '',
  `descricao` VARCHAR(200) NULL COMMENT '',
  `dia` INT NOT NULL COMMENT '',
  `idpessoa` INT NOT NULL COMMENT '',
  PRIMARY KEY (`idagendamento`, `idpessoa`)  COMMENT '',
  INDEX `fk_agendamento_pessoa1_idx` (`idpessoa` ASC)  COMMENT '',
  CONSTRAINT `fk_agendamento_pessoa1`
    FOREIGN KEY (`idpessoa`)
    REFERENCES `db_tcc`.`pessoa` (`idpessoa`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
